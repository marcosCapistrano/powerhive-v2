# Power Balancer Configuration
# Copy this file to .env and fill in your values

# Database (separate from powerhive.db)
POWER_BALANCER_DB=power-balancer.db

# Energy Aggregator API
AGGREGATOR_URL=https://energy-aggregator.fly.dev/data/latest
AGGREGATOR_API_KEY=your-api-key-here

# Network discovery
NETWORK_CIDR=192.168.1.0/24
DISCOVERY_INTERVAL=5m

# VNish authentication
VNISH_PASSWORD=admin

# Margin thresholds (percentage of generation)
# - EMERGENCY: Below this = aggressive parallel reductions
# - CRITICAL: Below this = start reducing
# - SAFE: Target margin when reducing
# - RECOVERY: Above this for 2min = start increasing
EMERGENCY_MARGIN=5
CRITICAL_MARGIN=10
SAFE_MARGIN=15
RECOVERY_MARGIN=20

# Timing
POLL_INTERVAL=5s
CHANGE_SPACING=10s
RECOVERY_SPACING=30s
COOLDOWN_DURATION=10m
SETTLE_TIME=5m

# Limits
MAX_PARALLEL_EMERGENCY=5

# Dashboard
DASHBOARD_PORT=8081
